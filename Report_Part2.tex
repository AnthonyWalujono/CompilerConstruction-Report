\documentclass{article}

\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage[usenames]{color}
\usepackage{hyperref}
  \hypersetup{
    colorlinks = true,
    urlcolor = blue,       % color of external links using \href
    linkcolor= blue,       % color of internal links 
    citecolor= blue,       % color of links to bibliography
    filecolor= blue,        % color of file links
    }
    
\usepackage{listings}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=haskell,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\theoremstyle{theorem} 
   \newtheorem{theorem}{Theorem}[section]
   \newtheorem{corollary}[theorem]{Corollary}
   \newtheorem{lemma}[theorem]{Lemma}
   \newtheorem{proposition}[theorem]{Proposition}
\theoremstyle{definition}
   \newtheorem{definition}[theorem]{Definition}
   \newtheorem{example}[theorem]{Example}
\theoremstyle{remark}    
  \newtheorem{remark}[theorem]{Remark}


\title{CPSC-402 Report\\Compiler Construction}
\author{Anthony Walujono \\ Chapman University}

\date{\today}

\begin{document}

\maketitle

\begin{abstract}
Short  summary of purpose and content.  
\end{abstract}

\tableofcontents

\section{Introduction}\label{intro}

This will cover everything in Compile Construction.

\section{Homework}\label{homework}
\subsection{Week 1: Searching for Strings}
2.24: Give DFA's accepting the the following languages over the alphabet \{0,1\}:
\newline \indent b) The set of all strings with three consecutive 0's (not necessarily at the end).
\newline \indent \includegraphics[width=90mm, scale=1.5]{partB.png}
\newline \indent c) The set of strings with 011 as a substring.
\newline \indent \includegraphics[width=90mm, scale=1.5]{partC.png}

\subsection{Week 2: Regular Expression and NFA}
2.3.4: Give nondeterministic finite automata to accept the following languages. Try to take advantage of nondeterminism as much as possible. 
\newline \indent a) The set of strings over alphabet \{0,1,...,9\} such that the final digit has appeared before. 
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.3.4_Part_A.png}
\newline \indent b) The set of strings over alphabet \{0,1,...,9\} such that the final digit has not appeared before.
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.3.4_Part_B.png}
\newline \indent c) The set of strings of 0's and 1's such that there are two 0's separated by a number of positions that is a multiple of 4. Note that 0 is an allowable multiple of 4.
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.3.4_Part_C.png}
\newline 2.5.3: Design  $\epsilon$-NFA's for the following languages. Try to use $\epsilon$ transitions to simplify your design. 
\newline \indent a) The set of strings consisting of zero or more a's followed by zero or more b's, followed by zero or more c's. 
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.5.3_A.png}
\newline \indent b) The set of strings that consist of either 01 repeated one or more times or 010 repeated one or more times. 
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.5.3_B.png}
\newline \indent c) The set of strings of 0's and 1's such that at least one of the last ten positions is a 1. 
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.5.3_C.png}

\subsection{Week 3: Convert NFAs to DFAs by Hand}
2.3.1: Convert to a DFA the following NFA
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.3.1.png}
\newline 2.3.2: Convert to a DFA the following NFA
\newline \indent \includegraphics[width=90mm, scale=1.5]{2.3.2.png}

\subsection{Week 4: Introduction to Parsing}
Question 1: Write out the parse tree (=concrete syntax tree) for the complete fibonacci program. Think about a question on this for the lecture.
\begin{lstlisting}
	using system;
	
	public class fibonacci
	{
		public static in Fib(int n)
		{
			if (n <= 1)
			{
				return n;
			}
			else
			{
				return Fib(n -1) + Fib(n - 2)
			}
		}
	}
\end{lstlisting}
Question 2: Write out the abstract syntax tree for the complete fibonacci program. 
\begin{lstlisting}
bnfc  -d -m fibonacci.cf
make
\end{lstlisting}

\section{Project}
For this project, I plan to explain a compiler. The language that I would use is C++, and the compiler that I would use is g++. A code that I plan to use is recfile.cpp, which is shown below. My target language would be JVM.
\begin{lstlisting}
#include <iostream>
#include <fstream>
#include <cstring>
#include <string>
#include <cstdlib>
#include <stdio.h>
#include <stdlib.h>
using namespace std;
using std::cout;
#define NRECORDS 100

typedef struct {
	int integer;
	char string[24];
} RECORD;

int main(int argc, char* argv[]){
	//argc expects 3 argumments when running
	if (argc != 3)
	{
		printf("Not expected amount.\n");
		return -1;
	}
	//converted the argument pointers from char to string
	int num = atoi(argv[1]);
	int repl = atoi(argv[2]);
	//Only allow users to input original numbers from 0 to 99
	if(num > 99 || num < 0){
		printf("Invalid Index Input. Program Terminated.\n");
		exit(EXIT_FAILURE);
	}
	FILE *rf;
	RECORD recfile = {0, "RECORD"};
	rf = fopen("records.dat", "w");
	//gives an error if the file is not found
	if(rf == NULL){
		perror("Error");
		return -1;
	}
	//writes the recfile.dat file
	for(int i = 0; i < NRECORDS; ++i){
		recfile.integer = i;
		fwrite(&recfile, sizeof(RECORD), 1, rf);
	}
	//the process to replace the integer inputed
	fseek(rf, 0, SEEK_SET);
	fseek(rf, (num)*sizeof(RECORD),SEEK_SET);
       	fread(&recfile, sizeof(RECORD), 1, rf);
	recfile.integer = repl;
	fseek(rf, 0, SEEK_SET);
	fseek(rf, (num)*sizeof(RECORD), SEEK_SET);
	fwrite(&recfile, sizeof(RECORD), 1, rf);	
	fclose(rf);
	rf = fopen("records.dat", "r");
	//updates the records.dat file with replacement number
	RECORD recfile2;
	for(int i = 0; i < NRECORDS; ++i){
		fread(&recfile2, sizeof(RECORD), 1, rf);
		printf("%s-%d\n", recfile2.string, recfile2.integer);
	}
	fclose(rf);
	return 0; 
}	
\end{lstlisting}
\begin{thebibliography}{99}
\bibitem[HMU]{Hopcroft}
	John E. Hopcroft, Rajeev Motwani, Jeffrey D. Ullman:
\href{http://ce.sharif.edu/courses/94-95/1/ce414-2/resources/root/Text%20Books/Automata/John%20E.%20Hopcroft,%20Rajeev%20Motwani,%20Jeffrey%20D.%20Ullman-Introduction%20to%20Automata%20Theory,%20Languages,%20and%20Computations-Prentice%20Hall%20(2006).pdf}{Introduction to automata theory, languages, and computation,} 3rd Edition. Pearson international edition, Addison-Wesley 2007

\end{thebibliography}

\end{document}